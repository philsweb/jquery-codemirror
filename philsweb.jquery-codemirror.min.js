!function(t){t.fn.codemirrorInit=function(e){t(this).init.prototype=t.extend({},t(this).init.prototype,{codemirror:function(){var e=this;return{setValue:function(r){for(var o=0;o<e.length;o++)t.data(e[o],"codemirror").setValue(r)},getValue:function(){if(this.length>1)throw new Error("Only one DOM element can be selected");return t.data(e[0],"codemirror").getValue()},setOption:function(r,o){t.each(e,function(e,n){t.data(n,"codemirror").setOption(r,o)})},setOptions:function(r){t.each(e,function(e,o){t.each(r,function(e,r){t.data(o,"codemirror").setOption(e,r)})})}}}});var r={mode:"text/html",lineNumbers:!0,lineWrapping:!0};return this.each(function(){var o=t.extend({},r,e),n=function(e){var r=t(e).attr("codemirror-config");if(void 0===r)return{};var o=!0;try{t.parseJSON(r)}catch(t){o=!1}return o?t.parseJSON(r):{}}(this),i=t.extend({},o,n);t.data(this,"codemirror",CodeMirror(this,i));var a=t("<div>"),c=t("<div>"),d=t("<div>Copy to clipboard</div>");t(this).prepend(a.addClass("codemirror-buttons-wrapper").append(c.addClass("codemirror-buttons").append(d.addClass("codemirror-button").addClass("copy-to-clipboard")))),a.css("pointer-events","none"),d.css("pointer-events","auto"),t(this).mouseenter(function(){t(this).children(".codemirror-buttons-wrapper").first().show()}),t(this).mouseleave(function(){t(this).children(".codemirror-buttons-wrapper").first().hide()}),t(this).find(".copy-to-clipboard").click(function(){var e,r;e=t(this).parent().parent().parent().codemirror().getValue(),r=t("<textarea>"),t("body").append(r.css({opacity:0,zIndex:-9999})),r.val(e).select(),document.execCommand("copy"),r.remove()})})}}(jQuery);